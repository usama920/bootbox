import{r as c,g as U,c as p,a as i,u as F,w as h,F as v,o as u,X as V,b as e,d as j,e as _,v as x,n as L,O as w,t as l}from"./app-62563c6d.js";import{_ as M}from"./AuthenticatedLayout-ece7c09d.js";import{_ as B}from"./Pagination-96c26275.js";import{_ as E}from"./ModalDialog-7bfa3a2e.js";import{c as O}from"./common-574032ff.js";const z=e("div",{class:"flex justify-between py-2"},[e("div",{class:"text-[25px]"},"Coupons"),e("div",{"data-te-toggle":"modal","data-te-target":"#addCategoryProduct",class:"py-2 px-4 text-sm text-white cursor-pointer hover:bg-blue-600 bg-blue-500 rounded-lg"}," Add New Coupon ")],-1),I={class:"flex flex-col overflow-x-auto"},X={class:"sm:-mx-6 lg:-mx-8"},q={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},G={class:"overflow-x-auto"},H={class:"min-w-full text-left text-sm font-light"},J=e("thead",null,[e("tr",{class:"border-b whitespace-nowrap bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," #No "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Coupon Code "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Status "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Type "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Amount "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Limit "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Actions ")])],-1),K={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Q={class:"text-gray-900 whitespace-no-wrap"},R={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},W={class:"text-gray-900 whitespace-nowrap"},Y={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Z={class:"text-gray-900 whitespace-nowrap"},ee={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},te={class:"text-gray-900 whitespace-nowrap"},se={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},oe={class:"text-gray-900 whitespace-nowrap"},ae={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},re={class:"text-gray-900 whitespace-nowrap"},le={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ie={class:"flex items-center space-x-2 text-white mx-auto"},de=["onClick"],ne=["onClick"],ce={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},pe={class:"space-y-2 p-4 text-base"},ue={class:"my-2"},_e=e("label",null,"Coupon Code:",-1),xe={class:"my-2"},be=e("label",null,"Amount/Percentage:",-1),ge={class:"my-2"},fe=e("label",null,"User Limit:",-1),me={class:"my-2"},ye=e("label",null,"Deduction Type:",-1),he={class:"text-[14px] w-full border-gray-500 bg-white p-1.5 border rounded flex items-center space-x-4"},ve={class:"flex items-center space-x-1"},we=["checked"],Ce=e("label",{for:"coupon_info_type_one"},"Amount($)",-1),ke={class:"flex items-center space-x-1"},$e=["checked"],Pe=e("label",{for:"coupon_info_type_two"},"Percentage(%)",-1),Ae={class:"my-2"},De=e("label",null,"Coupon Status:",-1),Ne={class:"text-[14px] w-full border-gray-500 bg-white p-1.5 border rounded flex items-center space-x-4"},Se={class:"flex items-center space-x-1"},Te=["checked"],Ue=e("label",{for:"coupon_info_status_one"},"Enable",-1),Fe={class:"flex items-center space-x-1"},Ve=["checked"],je=e("label",{for:"coupon_info_status_two"},"Disable",-1),Le={class:"flex justify-end p-4"},Me=["disabled"],Xe={__name:"Coupon",props:{coupons:Object},setup(d){const b=d,{Toast:n,ConfirmToast:C}=O();c([]);const g=c(!1),a=c({id:"",code:"",amount:"",status:0,type:0,limit:""}),f=o=>{a.value.type=o||0},m=o=>{a.value.status=o||0},k=o=>o&&o===1?"disabled":"enabled",P=o=>o&&o===1?"Percentage(%)":"Amount($)",A=o=>{let s=b.coupons.data.filter(r=>r.id===o);a.value=s[0],$("#addCategoryProduct").modal("show")},D=o=>{!o.code||!o.amount||!o.limit?n.fire({icon:"error",title:"Fill all Fields!"}):axios.post("/coupons",a.value).then(s=>{s.data.success&&(n.fire({icon:"success",title:"Saved!"}),$("#addCategoryProduct").modal("hide"),w.visit("/coupons"))})},N=o=>{o&&C.fire({}).then(s=>{s.isConfirmed===!0&&axios.delete("/coupons/"+o).then(r=>{r.data.success&&(n.fire({icon:"success",title:"Coupon Deleted!"}),w.visit("/coupons"))})})};return U(()=>{console.log(b.coupons.data)}),(o,s)=>(u(),p(v,null,[i(F(V),{title:"Users"}),i(M,null,{default:h(()=>{var r,y;return[z,e("div",I,[e("div",X,[e("div",q,[e("div",G,[e("table",H,[J,e("tbody",null,[(u(!0),p(v,null,j((r=d.coupons)==null?void 0:r.data,(t,S)=>(u(),p("tr",{key:t==null?void 0:t.id,class:"text-gray-700"},[e("td",K,[e("p",Q,l(S+1),1)]),e("td",R,[e("p",W,l(t==null?void 0:t.code),1)]),e("td",Y,[e("p",Z,l(k(t==null?void 0:t.status)),1)]),e("td",ee,[e("p",te,l(P(t==null?void 0:t.type)),1)]),e("td",se,[e("p",oe,l(t==null?void 0:t.amount),1)]),e("td",ae,[e("p",re,l(t==null?void 0:t.limit),1)]),e("td",le,[e("div",ie,[e("div",{onClick:T=>A(t==null?void 0:t.id),class:"py-1 rounded px-3 bg-green-500 hover:bg-green-600 cursor-pointer"},"Edit",8,de),e("div",{onClick:T=>N(t==null?void 0:t.id),class:"py-1 px-3 bg-red-500 rounded hover:bg-red-600 cursor-pointer"},"Delete",8,ne)])])]))),128))])]),e("div",ce,[i(B,{links:(y=d.coupons)==null?void 0:y.links},null,8,["links"])])])])])]),i(E,{ModalId:"addCategoryProduct",onCloseModal:s[8]||(s[8]=t=>a.value={id:"",code:"",amount:"",status:"",type:"",limit:""})},{default:h(()=>[e("form",pe,[e("div",ue,[_e,_(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>a.value.code=t),type:"text",class:"w-full rounded",autocomplete:"off",placeholder:"Name"},null,512),[[x,a.value.code]])]),e("div",xe,[be,_(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>a.value.amount=t),type:"number",class:"w-full rounded",autocomplete:"off",placeholder:"amount or percentage"},null,512),[[x,a.value.amount]])]),e("div",ge,[fe,_(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>a.value.limit=t),type:"number",class:"w-full rounded",autocomplete:"off",placeholder:"User Limit"},null,512),[[x,a.value.limit]])]),e("div",me,[ye,e("div",he,[e("div",ve,[e("input",{checked:a.value.type!==1,onChange:s[3]||(s[3]=t=>f(0)),type:"radio",id:"coupon_info_type_one",name:"coupon_info_status",class:""},null,40,we),Ce]),e("div",ke,[e("input",{checked:a.value.type===1,onChange:s[4]||(s[4]=t=>f(1)),type:"radio",id:"coupon_info_type_two",name:"coupon_info_status",class:""},null,40,$e),Pe])])]),e("div",Ae,[De,e("div",Ne,[e("div",Se,[e("input",{checked:a.value.status!==1,onChange:s[5]||(s[5]=t=>m(0)),type:"radio",id:"coupon_info_status_one",name:"couponss_info",class:""},null,40,Te),Ue]),e("div",Fe,[e("input",{checked:a.value.status===1,onChange:s[6]||(s[6]=t=>m(1)),type:"radio",id:"coupon_info_status_two",name:"couponss_info",class:""},null,40,Ve),je])])])]),e("div",Le,[e("button",{onClick:s[7]||(s[7]=t=>D(a.value)),class:L([{"opacity-50":g.value},"px-4 cursor-pointer py-1 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg"]),disabled:g.value},"Submit",10,Me)])]),_:1})]}),_:1})],64))}};export{Xe as default};

import{_ as P}from"./AuthenticatedLayout-ece7c09d.js";import{_ as T}from"./Pagination-96c26275.js";import{r as p,g as z,c as a,a as c,u as A,w as v,F as w,o,X as M,b as e,d as C,t as s,f as h,O as S}from"./app-62563c6d.js";import{c as V}from"./common-574032ff.js";import{_ as W}from"./ModalDialog-7bfa3a2e.js";const B=e("div",{class:"text-[25px] my-2"},"Orders",-1),j={class:"flex flex-col overflow-x-auto"},E={class:"sm:-mx-6 lg:-mx-8"},L={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},U={class:"overflow-x-auto"},X={class:"min-w-full text-left text-sm font-light"},Z=e("thead",null,[e("tr",{class:"border-b whitespace-nowrap bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," #No "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Order Status "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Subscription Status "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Subscription Type "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Subscription Installment "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Product Name "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Product Size "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Customer name "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Phone "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Address 1 "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Address 2 "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," City "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," State "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Zipcode "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Country "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Actions ")])],-1),q={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},G={class:"text-gray-900 whitespace-no-wrap"},H={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},J={class:"text-gray-900 whitespace-nowrap"},K={key:0,class:"text-green-600 font-extrabold"},Q={key:1,class:"text-orange-600 font-extrabold"},R={key:2,class:"text-yellow-600 font-extrabold"},Y={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},u={class:"text-gray-900 whitespace-nowrap"},ee={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},te={class:"text-gray-900 whitespace-nowrap"},se={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},re={class:"text-gray-900 whitespace-nowrap"},ae={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},oe={class:"text-gray-900 whitespace-nowrap"},ie={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ne={class:"text-gray-900 whitespace-nowrap"},le={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},be={class:"text-gray-900 whitespace-nowrap"},xe={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ge={class:"text-gray-900 whitespace-nowrap"},ye={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},de={class:"text-gray-900 whitespace-nowrap"},ce={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},he={class:"text-gray-900 whitespace-nowrap"},_e={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},pe={class:"text-gray-900 whitespace-nowrap"},we={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},me={class:"text-gray-900 whitespace-nowrap"},fe={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ke={class:"text-gray-900 whitespace-nowrap"},ve={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Ce={class:"text-gray-900 whitespace-nowrap"},Se={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Oe={class:"flex items-center space-x-2 text-white mx-auto"},De=["onClick"],Ie={key:0,class:"flex space-x-2"},Ne=["onClick"],$e=["onClick"],Fe={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},Pe={class:"mx-auto text-gray-900"},Te={class:"min-w-full text-left text-sm font-light"},ze=e("thead",null,[e("tr",{class:"border-b whitespace-nowrap bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," #No "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Paid Amount "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," From "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," To "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Invoice ")])],-1),Ae={class:"text-gray-700"},Me={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Ve={class:"text-gray-900 whitespace-no-wrap"},We={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Be={class:"text-gray-900 whitespace-nowrap"},je={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Ee={class:"text-gray-900 whitespace-nowrap"},Le={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Ue={class:"text-gray-900 whitespace-nowrap"},Xe={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Ze=["href"],qe={key:1,class:"text-center mx-auto"},Ge=e("td",{colspan:"5",class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},[e("p",{class:"text-gray-900 whitespace-no-wrap"},"Installments data not available")],-1),He=[Ge],et={__name:"Orders",props:{orders:Object},setup(_){const m=_,{Toast:f,ConfirmToast:Je}=V(),x=p({});p([]),p(!1);const O=i=>i===0?"monthly":"weekly",D=i=>{let n=m.orders.data.filter(g=>g.id===i);x.value=n[0],$("#orderDetail").modal("show")},I=()=>{},N=i=>{console.log(i),axios.post("/product-status",{id:i}).then(n=>{n.data.success&&(f.fire({icon:"success",title:"Status Changed to Delivered!"}),S.visit("/admin-order"))})},F=i=>{console.log(i),axios.post("/product-status-process",{id:i}).then(n=>{n.data.success&&(f.fire({icon:"success",title:"Status Changed to On Its Way!"}),S.visit("/admin-order"))})};return z(()=>{console.log(m.orders)}),(i,n)=>(o(),a(w,null,[c(A(M),{title:"Users"}),c(P,null,{default:v(()=>{var g,k;return[B,e("div",j,[e("div",E,[e("div",L,[e("div",U,[e("table",X,[Z,e("tbody",null,[(o(!0),a(w,null,C((g=_.orders)==null?void 0:g.data,(t,y)=>{var l,b,r;return o(),a("tr",{key:t==null?void 0:t.id,class:"text-gray-700"},[e("td",q,[e("p",G,s(y+1),1)]),e("td",H,[e("p",J,[t!=null&&t.status&&(t==null?void 0:t.status)==="1"?(o(),a("span",K,"Delivered")):t!=null&&t.status&&(t==null?void 0:t.status)==="2"?(o(),a("span",Q,"Pending")):t!=null&&t.status&&(t==null?void 0:t.status)==="3"?(o(),a("span",R,"On Its Way")):h("",!0)])]),e("td",Y,[e("p",u,s(t==null?void 0:t.subscription_status),1)]),e("td",ee,[e("p",te,s((l=t==null?void 0:t.order_subscription)==null?void 0:l.name),1)]),e("td",se,[e("p",re,s(O(t==null?void 0:t.subscription_type)),1)]),e("td",ae,[e("p",oe,s(t==null?void 0:t.order_product.product_name),1)]),e("td",ie,[e("p",ne,s((r=(b=t==null?void 0:t.order_sizes)==null?void 0:b.size_name)==null?void 0:r.name),1)]),e("td",le,[e("p",be,s(t==null?void 0:t.name),1)]),e("td",xe,[e("p",ge,s(t==null?void 0:t.phone),1)]),e("td",ye,[e("p",de,s(t==null?void 0:t.address_1),1)]),e("td",ce,[e("p",he,s(t==null?void 0:t.address_2),1)]),e("td",_e,[e("p",pe,s(t==null?void 0:t.city),1)]),e("td",we,[e("p",me,s(t==null?void 0:t.state),1)]),e("td",fe,[e("p",ke,s(t==null?void 0:t.zipcode),1)]),e("td",ve,[e("p",Ce,s(t==null?void 0:t.country),1)]),e("td",Se,[e("div",Oe,[e("div",{onClick:d=>D(t==null?void 0:t.id),class:"py-1 rounded px-3 whitespace-nowrap bg-green-500 hover:bg-green-600 cursor-pointer"},"Further Detail",8,De),(t==null?void 0:t.status)!=="1"?(o(),a("span",Ie,[(t==null?void 0:t.status)==="2"?(o(),a("div",{key:0,onClick:d=>F(t==null?void 0:t.id),class:"py-1 rounded px-3 whitespace-nowrap bg-yellow-500 hover:bg-yellow-600 cursor-pointer"}," On Its Way ",8,Ne)):h("",!0),e("div",{onClick:d=>N(t==null?void 0:t.id),class:"py-1 rounded px-3 whitespace-nowrap bg-green-500 hover:bg-green-600 cursor-pointer"}," Delivered ",8,$e)])):h("",!0)])])])}),128))])]),e("div",Fe,[c(T,{links:(k=_.orders)==null?void 0:k.links},null,8,["links"])])])])])]),c(W,{maxWidth:"!w-[700px] !max-w-[700px]",ModalId:"orderDetail",onCloseModal:I},{default:v(()=>{var t,y,l,b;return[e("div",Pe,[e("div",null,[e("table",Te,[ze,e("tbody",null,[(t=x.value)!=null&&t.order_installments&&((l=(y=x.value)==null?void 0:y.order_installments)==null?void 0:l.length)>0?(o(!0),a(w,{key:0},C((b=x.value)==null?void 0:b.order_installments,(r,d)=>(o(),a("tr",Ae,[e("td",Me,[e("p",Ve,s(d+1),1)]),e("td",We,[e("p",Be,s(r.paid_amount),1)]),e("td",je,[e("p",Ee,s(r.start_at),1)]),e("td",Le,[e("p",Ue,s(r.end_at),1)]),e("td",Xe,[r!=null&&r.invoice_url?(o(),a("a",{key:0,href:r==null?void 0:r.invoice_url,target:"_blank",class:"text-blue-600 hover:text-blue-800 font-extrabold whitespace-nowrap"},"INVOICE",8,Ze)):h("",!0)])]))),256)):(o(),a("tr",qe,He))])])])])]}),_:1})]}),_:1})],64))}};export{et as default};

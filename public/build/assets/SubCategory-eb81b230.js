import{r as v,c as o,a as f,u as V,w as S,F as x,o as l,X as A,b as e,d as h,e as N,v as B,s as F,n as T,O as j,t as c}from"./app-e6a57f5a.js";import{_ as U}from"./AuthenticatedLayout-6eb44df4.js";import{_ as E}from"./Pagination-23b1c4e7.js";import{_ as z}from"./ModalDialog-65ae0309.js";import{c as I}from"./common-432fcaff.js";const L=e("div",{class:"flex justify-between py-2"},[e("div",{class:"text-[25px]"},"Sub Categories"),e("div",{"data-te-toggle":"modal","data-te-target":"#addSubCategoryProduct",class:"py-2 px-4 text-sm text-white cursor-pointer hover:bg-blue-600 bg-blue-500 rounded-lg"}," Add New Sub Category ")],-1),X={class:"flex flex-col overflow-x-auto"},q={class:"sm:-mx-6 lg:-mx-8"},G={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},H={class:"overflow-x-auto"},J={class:"min-w-full text-left text-sm font-light"},K=e("thead",null,[e("tr",{class:"border-b whitespace-nowrap bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," #No "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Category Name "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Sub Category Name "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Action ")])],-1),Q={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},R={class:"text-gray-900 whitespace-no-wrap"},W={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Y={class:"text-gray-900 whitespace-no-wrap"},Z={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ee={class:"text-gray-900 whitespace-no-wrap"},te={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},se={class:"flex items-center space-x-2 text-white mx-auto"},ae=["onClick"],oe=["onClick"],le={key:0,class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},re={key:1,class:"text-lg p-5 text-center"},ie={class:"space-y-2 p-4 text-lg"},ne=e("label",null,"Sub Category Name:",-1),de={class:"text-red-500 ml-2 text-xs font-bold"},ce=e("label",null,"Category Name:",-1),ge={class:"text-red-500 ml-2 text-xs font-bold"},ue=e("option",{value:"0",disabled:""},"select category",-1),be=["value"],xe={class:"flex justify-end p-4"},ye=["disabled"],ve={__name:"SubCategory",props:{subCategories:Object,categories:Object},setup(y){const{Toast:w,ConfirmToast:M}=I(),r=v({id:"",name:"",sub_category_slug:"",category:0}),C=v([]),_=v(!1),p=()=>{r.value={id:"",name:"",sub_category_slug:"",category:0}},D=i=>{i&&axios.get("/sub-category/"+i).then(a=>{var n,g,u,b,t,d,s,m,k;a.data.success&&(r.value.category=(u=(g=(n=a.data)==null?void 0:n.data)==null?void 0:g.category_data)==null?void 0:u.id,r.value.id=(t=(b=a.data)==null?void 0:b.data)==null?void 0:t.id,r.value.name=(s=(d=a.data)==null?void 0:d.data)==null?void 0:s.name,r.value.sub_category_slug=(k=(m=a.data)==null?void 0:m.data)==null?void 0:k.sub_category_slug,$("#addSubCategoryProduct").modal("show"))})},O=i=>{i&&M.fire({}).then(a=>{a.isConfirmed===!0&&axios.delete("/sub-category/"+i).then(n=>{n.data.success&&(w.fire({icon:"success",title:"Deleted Successfully!"}),j.visit("/sub-category"),p())})})},P=()=>{_.value=!0,axios.post("/sub-category",r.value).then(i=>{i.data.success&&($("#addSubCategoryProduct").modal("hide"),j.visit("/sub-category"),w.fire({icon:"success",title:"SubCategory Saved!"}),p())}).finally(()=>{_.value=!1})};return(i,a)=>(l(),o(x,null,[f(V(A),{title:"Users"}),f(U,null,{default:S(()=>{var n,g,u,b;return[L,e("div",X,[e("div",q,[e("div",G,[e("div",H,[e("table",J,[K,e("tbody",null,[(l(!0),o(x,null,h((n=y.subCategories)==null?void 0:n.data,(t,d)=>{var s;return l(),o("tr",{key:t==null?void 0:t.id,class:"text-gray-700"},[e("td",Q,[e("p",R,c(d+1),1)]),e("td",W,[e("p",Y,c(t==null?void 0:t.name),1)]),e("td",Z,[e("p",ee,c((s=t==null?void 0:t.category_data)==null?void 0:s.name),1)]),e("td",te,[e("div",se,[e("div",{onClick:m=>D(t==null?void 0:t.id),class:"py-1 rounded px-3 bg-green-500 hover:bg-green-600 cursor-pointer"},"Edit",8,ae),e("div",{onClick:m=>O(t==null?void 0:t.id),class:"py-1 px-3 bg-red-500 rounded hover:bg-red-600 cursor-pointer"},"Delete",8,oe)])])])}),128))])]),((u=(g=y.subCategories)==null?void 0:g.data)==null?void 0:u.length)!==0?(l(),o("div",le,[f(E,{links:(b=y.subCategories)==null?void 0:b.links},null,8,["links"])])):(l(),o("div",re," No Sub Category Available ! "))])])])]),f(z,{ModalId:"addSubCategoryProduct",onCloseModal:p},{default:S(()=>{var t,d;return[e("form",ie,[ne,(l(!0),o(x,null,h((t=C.value)==null?void 0:t.name,s=>(l(),o("span",de,c(s),1))),256)),N(e("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>r.value.name=s),type:"text",class:"w-full rounded",autocomplete:"off",placeholder:"Name"},null,512),[[B,r.value.name]]),ce,(l(!0),o(x,null,h((d=C.value)==null?void 0:d.name,s=>(l(),o("span",ge,c(s),1))),256)),N(e("select",{"onUpdate:modelValue":a[1]||(a[1]=s=>r.value.category=s),class:"w-full rounded"},[ue,(l(!0),o(x,null,h(y.categories,s=>(l(),o("option",{value:s.id},c(s==null?void 0:s.name),9,be))),256))],512),[[F,r.value.category]])]),e("div",xe,[e("button",{onClick:a[2]||(a[2]=s=>P()),class:T([{"opacity-50":_.value},"px-4 cursor-pointer py-1 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg"]),disabled:_.value},"Submit",10,ye)])]}),_:1})]}),_:1})],64))}};export{ve as default};

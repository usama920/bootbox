import{r as I,g as ae,c as n,a as N,u as Q,w as Y,F as x,o as c,X as _e,b as l,t as a,e as v,v as P,f as fe,s as q,d as w,n as M,O as me,x as Z}from"./app-9cd134ea.js";import{_ as be}from"./AuthenticatedLayout-7ccae9f6.js";import{_ as ve}from"./ModalDialog-3da11948.js";import{c as ge}from"./common-1d5867f9.js";const ye=l("div",{class:"flex justify-between py-2"},[l("div",{class:"text-[25px]"},"Product Detail")],-1),he={class:"space-y-2 px-4 text-lg"},pe=l("label",{class:"font-bold"},"Product Stripe Id:",-1),xe={class:"text-red-500 ml-2 text-sm font-bold"},we=l("label",{class:"font-bold"},"Product Title:",-1),ke={class:"text-red-500 ml-2 text-sm font-bold"},Ce=l("label",{class:"font-bold"},"Description:",-1),Ue={class:"text-red-500 ml-2 text-sm font-bold"},Se=l("label",{class:"font-bold"},"Price:",-1),Ve={class:"text-red-500 ml-2 text-sm font-bold"},ze=l("label",{class:"font-bold"},"Pictures:",-1),Pe={class:"text-red-500 ml-2 text-sm font-bold"},Ie={key:0,"data-te-toggle":"modal","data-te-target":"#previewImages",class:"font-bold cursor-pointer text-blue-600"},qe=l("label",{class:"font-bold"},"Product Status:",-1),De={class:"text-[14px] w-full border-gray-500 bg-white p-1.5 border rounded flex items-center space-x-4"},Ee={class:"flex items-center space-x-1"},Me=["checked"],Ne=l("label",null,"Show",-1),Oe={class:"flex items-center space-x-1"},Te=["checked"],Ae=l("label",null,"Hide",-1),Le=l("label",{class:"font-bold"},"SubCategory:",-1),$e={class:"text-red-500 ml-2 text-sm font-bold"},je=l("option",{value:"0",disabled:""},"select option",-1),Fe=["value"],Be=l("label",{class:"font-bold"},"Style:",-1),Je={class:"text-red-500 ml-2 text-sm font-bold"},Re=l("option",{value:"0",disabled:""},"select option",-1),Ge=["value"],He=l("label",{class:"font-bold"},"Tier Level:",-1),We={class:"text-red-500 ml-2 text-sm font-bold"},Xe=l("option",{value:"0",disabled:""},"select option",-1),Ke=["value"],Qe=l("label",{class:"font-bold"},"Safety:",-1),Ye={class:"text-red-500 ml-2 text-sm font-bold"},Ze=l("option",{value:"0",disabled:""},"select option",-1),et=["value"],tt=l("label",{class:"font-bold"},"Material:",-1),it={class:"text-red-500 ml-2 text-sm font-bold"},lt=l("option",{value:"0",disabled:""},"select option",-1),ot=["value"],dt=l("label",{class:"font-bold"},"Gender:",-1),ut={class:"text-red-500 ml-2 text-sm font-bold"},st=l("option",{value:"0",disabled:""},"select option",-1),nt=["value"],ct={class:""},rt=l("label",{class:"font-bold"},"Available Sizes:",-1),at={class:"flex items-center my-2"},_t=["onUpdate:modelValue","checked","id","value"],ft=["for"],mt={class:""},bt=l("label",{class:"font-bold"},"Available Subscriptions:",-1),vt={class:"flex items-center my-2"},gt=["onUpdate:modelValue","id","value"],yt=["for"],ht=["onUpdate:modelValue","disabled"],pt=["onUpdate:modelValue","disabled"],xt=["onUpdate:modelValue","disabled"],wt={class:"flex justify-end p-4"},kt=["disabled"],Ct=["src"],Ut={key:1,class:"text-center font-bold"},qt={__name:"AddProduct",props:{product_info:Object},setup(ee){const t=ee,{Toast:te,ConfirmToast:St}=ge(),o=I({id:"",product_stripe_id:"",previous_img:[],style:0,gender:0,size:{},subscription:{check:{},price:{},stripe_id:{},stripe_weekly_id:{}},subCategory:0,tier:0,safety:0,material:0,name:"",description:"",price:"",status:"",images:[]}),ie=window.location.origin;I([]);const le=I([]),D=I(!1),u=I({image:"",product_stripe_id:"",style:"",size:"",subCategory:"",tier:"",safety:"",material:"",name:"",description:"",price:""}),b=I({style:{},size:{},subscription:{},subCategory:{},tier:{},gender:{},safety:{},material:{}}),O=i=>{o.value.status=i||0},oe=i=>{_.forEach(i.target.files,function(d,f){o.value.images.push(d),le.value.push(URL.createObjectURL(d))})},de=()=>{u.value={image:"",product_stripe_id:"",style:"",size:"",subCategory:"",tier:"",safety:"",material:"",name:"",description:"",price:""}},ue=i=>{var d,f;return de(),i.style||(u.value.style="Style is required field"),i.subCategory||(u.value.subCategory="Sub Category is required field"),i.tier||(u.value.tier="Tier Level is required field"),i.safety||(u.value.safety="Safety is required field"),((d=i.images)==null?void 0:d.length)===0&&((f=i.previous_img)==null?void 0:f.length)===0&&(u.value.image="Images are required"),i.material||(u.value.material="Material is required field"),i.name||(u.value.name="Name is required field"),i.description||(u.value.description="Description is required field"),i.price||(u.value.price="Price is required field"),i.product_stripe_id||(u.value.product_stripe_id="Price Stripe Id is required field"),!u.value.product_stripe_id&&!u.value.style&&!u.value.subCategory&&!u.value.tier&&!u.value.safety&&!u.value.image&&!u.value.material&&!u.value.name&&!u.value.description&&!u.value.price},se=i=>{if(ue(i)){D.value=!0;const f=new FormData;for(let r in i)if(i.hasOwnProperty(r))if(r==="images"){let g=1;_.forEach(i[r],function(y,h){const p=h+1;f.append("image"+p,y),g=h}),f.append("length",JSON.stringify(g+1))}else f.append(r,JSON.stringify(i[r]));axios.post("/save-product",f,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>{var g,y;r.data.success&&(te.fire({icon:"success",title:"Product Information Saved!"}),me.visit("/products/edit/"+((y=(g=r==null?void 0:r.data)==null?void 0:g.data)==null?void 0:y.product_slug)))}).finally(()=>D.value=!1)}else D.value=!1},ne=()=>{axios.get("/product-options").then(i=>{var d,f,r,g,y,h,p,k,C,U,S,V,z,e,m,E;i.data&&(b.value.style=(d=i==null?void 0:i.data)!=null&&d.data1?(f=i==null?void 0:i.data)==null?void 0:f.data1:{},b.value.size=(r=i==null?void 0:i.data)!=null&&r.data2?(g=i==null?void 0:i.data)==null?void 0:g.data2:{},b.value.material=(y=i==null?void 0:i.data)!=null&&y.data3?(h=i==null?void 0:i.data)==null?void 0:h.data3:{},b.value.subCategory=(p=i==null?void 0:i.data)!=null&&p.data4?(k=i==null?void 0:i.data)==null?void 0:k.data4:{},b.value.tier=(C=i==null?void 0:i.data)!=null&&C.data5?(U=i==null?void 0:i.data)==null?void 0:U.data5:{},b.value.safety=(S=i==null?void 0:i.data)!=null&&S.data6?(V=i==null?void 0:i.data)==null?void 0:V.data6:{},b.value.subscription=(z=i==null?void 0:i.data)!=null&&z.data7?(e=i==null?void 0:i.data)==null?void 0:e.data7:{},b.value.gender=(m=i==null?void 0:i.data)!=null&&m.data8?(E=i==null?void 0:i.data)==null?void 0:E.data8:{})})},ce=()=>{var i,d,f,r,g,y,h,p,k,C,U,S,V,z,e,m,E,T,A,L,$,j,F,B,J,R,G,H,W,X,K;o.value.id=(i=t==null?void 0:t.product_info)==null?void 0:i.id,o.value.name=(d=t==null?void 0:t.product_info)!=null&&d.product_name?(f=t==null?void 0:t.product_info)==null?void 0:f.product_name:"",o.value.description=(r=t==null?void 0:t.product_info)!=null&&r.description?(g=t==null?void 0:t.product_info)==null?void 0:g.description:"",o.value.price=(y=t==null?void 0:t.product_info)!=null&&y.product_price?(h=t==null?void 0:t.product_info)==null?void 0:h.product_price:"",o.value.status=(p=t==null?void 0:t.product_info)!=null&&p.status?(k=t==null?void 0:t.product_info)==null?void 0:k.status:0,o.value.material=(C=t==null?void 0:t.product_info)!=null&&C.materials_id?(U=t==null?void 0:t.product_info)==null?void 0:U.materials_id:0,o.value.subCategory=(S=t==null?void 0:t.product_info)!=null&&S.sub_categories_id?(V=t==null?void 0:t.product_info)==null?void 0:V.sub_categories_id:0,o.value.safety=(z=t==null?void 0:t.product_info)!=null&&z.safety_resistances_id?(e=t==null?void 0:t.product_info)==null?void 0:e.safety_resistances_id:0,o.value.tier=(m=t==null?void 0:t.product_info)!=null&&m.tier_levels_id?(E=t==null?void 0:t.product_info)==null?void 0:E.tier_levels_id:0,o.value.style=(T=t==null?void 0:t.product_info)!=null&&T.styles_id?(A=t==null?void 0:t.product_info)==null?void 0:A.styles_id:0,o.value.gender=(L=t==null?void 0:t.product_info)!=null&&L.genders_id?($=t==null?void 0:t.product_info)==null?void 0:$.genders_id:0,o.value.product_stripe_id=(j=t==null?void 0:t.product_info)!=null&&j.product_stripe_id?(F=t==null?void 0:t.product_info)==null?void 0:F.product_stripe_id:"",(B=t==null?void 0:t.product_info)!=null&&B.product_images&&(o.value.previous_img=(J=t==null?void 0:t.product_info)==null?void 0:J.product_images),(R=t==null?void 0:t.product_info)!=null&&R.product_sizes&&((G=t==null?void 0:t.product_info)==null?void 0:G.product_sizes.length)>0&&_.forEach((H=t==null?void 0:t.product_info)==null?void 0:H.product_sizes,function(s,re){o.value.size[s==null?void 0:s.sizes_id]=(s==null?void 0:s.status)===1}),(W=t==null?void 0:t.product_info)!=null&&W.product_subscriptions&&((X=t==null?void 0:t.product_info)==null?void 0:X.product_subscriptions.length)>0&&_.forEach((K=t==null?void 0:t.product_info)==null?void 0:K.product_subscriptions,function(s,re){o.value.subscription.check[s==null?void 0:s.subscription_types_id]=(s==null?void 0:s.status)===1,o.value.subscription.price[s==null?void 0:s.subscription_types_id]=s==null?void 0:s.price,o.value.subscription.stripe_id[s==null?void 0:s.subscription_types_id]=s==null?void 0:s.strip_price_id,o.value.subscription.stripe_weekly_id[s==null?void 0:s.subscription_types_id]=s==null?void 0:s.weekly_strip_id})};return ae(()=>{ne(),ce()}),(i,d)=>(c(),n(x,null,[N(Q(_e),{title:"Users"}),N(be,null,{default:Y(()=>{var f,r,g,y,h,p,k,C,U,S,V,z;return[ye,l("form",he,[l("div",null,[pe,l("span",xe,a((f=u.value)==null?void 0:f.product_stripe_id),1),v(l("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>o.value.product_stripe_id=e),type:"text",class:"w-full rounded",autocomplete:"off",placeholder:"Product Stripe ID"},null,512),[[P,o.value.product_stripe_id]])]),l("div",null,[we,l("span",ke,a((r=u.value)==null?void 0:r.name),1),v(l("input",{"onUpdate:modelValue":d[1]||(d[1]=e=>o.value.name=e),type:"text",class:"w-full rounded",autocomplete:"off",placeholder:"Name"},null,512),[[P,o.value.name]])]),l("div",null,[Ce,l("span",Ue,a((g=u.value)==null?void 0:g.description),1),v(l("textarea",{"onUpdate:modelValue":d[2]||(d[2]=e=>o.value.description=e),type:"text",class:"w-full rounded",rows:"5",autocomplete:"off",placeholder:"About Product"},null,512),[[P,o.value.description]])]),l("div",null,[Se,l("span",Ve,a((y=u.value)==null?void 0:y.price),1),v(l("input",{"onUpdate:modelValue":d[3]||(d[3]=e=>o.value.price=e),type:"number",class:"w-full rounded",autocomplete:"off",placeholder:"Price"},null,512),[[P,o.value.price]])]),l("div",null,[ze,l("span",Pe,a((h=u.value)==null?void 0:h.image),1),l("input",{onChange:d[4]||(d[4]=e=>oe(e)),type:"file",multiple:"",class:"w-full border-gray-500 bg-white p-1 border rounded"},null,32),o.value.previous_img&&((p=o.value.previous_img)==null?void 0:p.length)>0?(c(),n("div",Ie,"Preview")):fe("",!0)]),l("div",null,[qe,l("div",De,[l("div",Ee,[l("input",{checked:o.value.status!==1,onChange:d[5]||(d[5]=e=>O(0)),type:"radio",id:"one",name:"status",class:""},null,40,Me),Ne]),l("div",Oe,[l("input",{checked:o.value.status===1,onChange:d[6]||(d[6]=e=>O(1)),type:"radio",id:"two",name:"status",class:""},null,40,Te),Ae])])]),l("div",null,[Le,l("span",$e,a((k=u.value)==null?void 0:k.subCategory),1),v(l("select",{"onUpdate:modelValue":d[7]||(d[7]=e=>o.value.subCategory=e),class:"w-full border-gray-500 bg-white p-[9px] border rounded"},[je,(c(!0),n(x,null,w(b.value.subCategory,e=>(c(),n("option",{value:e==null?void 0:e.id},a(e==null?void 0:e.name),9,Fe))),256))],512),[[q,o.value.subCategory]])]),l("div",null,[Be,l("span",Je,a((C=u.value)==null?void 0:C.style),1),v(l("select",{"onUpdate:modelValue":d[8]||(d[8]=e=>o.value.style=e),class:"w-full border-gray-500 bg-white p-[9px] border rounded"},[Re,(c(!0),n(x,null,w(b.value.style,e=>(c(),n("option",{value:e==null?void 0:e.id},a(e==null?void 0:e.name),9,Ge))),256))],512),[[q,o.value.style]])]),l("div",null,[He,l("span",We,a((U=u.value)==null?void 0:U.tier),1),v(l("select",{"onUpdate:modelValue":d[9]||(d[9]=e=>o.value.tier=e),class:"w-full border-gray-500 bg-white p-[9px] border rounded"},[Xe,(c(!0),n(x,null,w(b.value.tier,e=>(c(),n("option",{value:e==null?void 0:e.id},a(e==null?void 0:e.name),9,Ke))),256))],512),[[q,o.value.tier]])]),l("div",null,[Qe,l("span",Ye,a((S=u.value)==null?void 0:S.safety),1),v(l("select",{"onUpdate:modelValue":d[10]||(d[10]=e=>o.value.safety=e),class:"w-full border-gray-500 bg-white p-[9px] border rounded"},[Ze,(c(!0),n(x,null,w(b.value.safety,e=>(c(),n("option",{value:e==null?void 0:e.id},a(e==null?void 0:e.name),9,et))),256))],512),[[q,o.value.safety]])]),l("div",null,[tt,l("span",it,a((V=u.value)==null?void 0:V.material),1),v(l("select",{"onUpdate:modelValue":d[11]||(d[11]=e=>o.value.material=e),class:"w-full border-gray-500 bg-white p-[9px] border rounded"},[lt,(c(!0),n(x,null,w(b.value.material,e=>(c(),n("option",{value:e==null?void 0:e.id},a(e==null?void 0:e.name),9,ot))),256))],512),[[q,o.value.material]])]),l("div",null,[dt,l("span",ut,a((z=u.value)==null?void 0:z.gender),1),v(l("select",{"onUpdate:modelValue":d[12]||(d[12]=e=>o.value.gender=e),class:"w-full border-gray-500 bg-white p-[9px] border rounded"},[st,(c(!0),n(x,null,w(b.value.gender,e=>(c(),n("option",{value:e==null?void 0:e.id},a(e==null?void 0:e.name),9,nt))),256))],512),[[q,o.value.gender]])]),l("div",ct,[rt,(c(!0),n(x,null,w(b.value.size,e=>(c(),n("div",at,[v(l("input",{"onUpdate:modelValue":m=>o.value.size[e.id]=m,checked:o.value.size[e.id]===!0,type:"checkbox",id:"size"+(e==null?void 0:e.id)+"boots",class:"rounded mr-1",value:e==null?void 0:e.id},null,8,_t),[[Z,o.value.size[e.id]]]),l("label",{for:"size"+(e==null?void 0:e.id)+"boots"},a(e==null?void 0:e.name),9,ft)]))),256))]),l("div",mt,[bt,(c(!0),n(x,null,w(b.value.subscription,e=>(c(),n("div",vt,[v(l("input",{"onUpdate:modelValue":m=>o.value.subscription.check[e.id]=m,type:"checkbox",id:"sub"+(e==null?void 0:e.id)+"boots",class:"rounded mr-1",value:e==null?void 0:e.id},null,8,gt),[[Z,o.value.subscription.check[e.id]]]),l("label",{for:"sub"+(e==null?void 0:e.id)+"boots",class:"mr-4 w-40"},a(e==null?void 0:e.name),9,yt),v(l("input",{"onUpdate:modelValue":m=>o.value.subscription.price[e.id]=m,disabled:o.value.subscription.check[e.id]!==!0,class:M([{"opacity-50 bg-gray-500":o.value.subscription.check[e.id]!==!0},"ml-5 w-40 rounded h-10"]),type:"number",placeholder:"Subscription Price"},null,10,ht),[[P,o.value.subscription.price[e.id]]]),v(l("input",{"onUpdate:modelValue":m=>o.value.subscription.stripe_id[e.id]=m,disabled:o.value.subscription.check[e.id]!==!0,class:M([{"opacity-50 bg-gray-500":o.value.subscription.check[e.id]!==!0},"ml-5 w-40 rounded h-10"]),type:"text",placeholder:"Stripe Monthly Price Id"},null,10,pt),[[P,o.value.subscription.stripe_id[e.id]]]),v(l("input",{"onUpdate:modelValue":m=>o.value.subscription.stripe_weekly_id[e.id]=m,disabled:o.value.subscription.check[e.id]!==!0,class:M([{"opacity-50 bg-gray-500":o.value.subscription.check[e.id]!==!0},"ml-5 w-40 rounded h-10"]),type:"text",placeholder:"Stripe Weekly Price Id"},null,10,xt),[[P,o.value.subscription.stripe_weekly_id[e.id]]])]))),256))])]),l("div",wt,[l("button",{onClick:d[13]||(d[13]=e=>se(o.value)),class:M([{"opacity-50":D.value},"px-4 cursor-pointer py-1 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg"]),disabled:D.value},"Submit",10,kt)]),N(ve,{ModalId:"previewImages"},{default:Y(()=>{var e;return[o.value.previous_img&&((e=o.value.previous_img)==null?void 0:e.length)>0?(c(!0),n(x,{key:0},w(o.value.previous_img,m=>(c(),n("img",{alt:"image",src:Q(ie)+"/storage/images/products/"+m.name},null,8,Ct))),256)):(c(),n("div",Ut,"Images not Available"))]}),_:1})]}),_:1})],64))}};export{qt as default};

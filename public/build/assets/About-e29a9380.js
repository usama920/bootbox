import{r as c,g as _,c as x,a as f,u as h,w as y,F as w,o as C,X as A,b as o,e as m,v as p,n as D}from"./app-e6a57f5a.js";import{_ as F}from"./AuthenticatedLayout-6eb44df4.js";import{c as S}from"./common-432fcaff.js";const T=o("div",{class:"flex justify-between px-4 pb-2"},[o("div",{class:"text-[25px]"},"About Page Content")],-1),V={class:"px-4 text-lg"},k={class:"border-gray-400 rounded p-4 bg-white border-2"},B=o("label",{class:"font-normal text-base"},"Heading:",-1),N=o("label",{class:"font-normal text-base"},"Description:",-1),U=o("label",{class:"font-normal text-base"},"Image:",-1),j={class:"flex justify-end p-4"},I=["disabled"],E={__name:"About",setup(M){const{Toast:b,ConfirmToast:O}=S(),l=c({image:"",heading:"",description:"",previous_img:""}),s=c(!1),v=e=>{l.value.image=e.target.files[0]},g=e=>{s.value=!0;const a=new FormData;for(let t in e)e.hasOwnProperty(t)&&(t==="heading"||t==="description"?a.append(t,JSON.stringify(e[t])):a.append(t,e[t]));axios.post("/save-about",a,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{t.data.success&&(b.fire({icon:"success",title:"Information Saved!"}),i())}).finally(()=>{s.value=!1})},i=()=>{axios.get("/save-about").then(e=>{var a,t,n,d,u,r;(a=e.data)!=null&&a.data&&(l.value=(t=e.data)==null?void 0:t.data,l.value.previous_img=(d=(n=e==null?void 0:e.data)==null?void 0:n.data)!=null&&d.image?(r=(u=e==null?void 0:e.data)==null?void 0:u.data)==null?void 0:r.image:"")})};return _(()=>{i()}),(e,a)=>(C(),x(w,null,[f(h(A),{title:"Users"}),f(F,null,{default:y(()=>[T,o("form",V,[o("div",k,[o("div",null,[B,m(o("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>l.value.heading=t),type:"text",class:"w-full rounded",autocomplete:"off",placeholder:"..."},null,512),[[p,l.value.heading]])]),o("div",null,[N,m(o("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>l.value.description=t),type:"text",class:"w-full rounded",autocomplete:"off",placeholder:"..."},null,512),[[p,l.value.description]])]),o("div",null,[U,o("input",{onChange:a[2]||(a[2]=t=>v(t)),type:"file",class:"w-full border p-1 border-gray-500 rounded"},null,32)])]),o("div",j,[o("button",{onClick:a[3]||(a[3]=t=>g(l.value)),class:D([{"opacity-50":s.value},"px-4 cursor-pointer py-1 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg"]),disabled:s.value},"Submit",10,I)])])]),_:1})],64))}};export{E as default};

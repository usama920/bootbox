import{r as q,g as fe,c,a as M,u as ee,w as te,F as x,o as n,X as me,b as i,t as a,e as v,v as I,f as be,s as D,d as w,n as E,O as ve,x as ie}from"./app-ec377eaf.js";import{_ as pe}from"./AuthenticatedLayout-a1990e0d.js";import{_ as ge}from"./ModalDialog-c0ec0301.js";import{c as ye}from"./common-6a76473d.js";const he=i("div",{class:"flex justify-between py-2"},[i("div",{class:"text-[25px]"},"Product Detail")],-1),xe={class:"space-y-2 px-4 text-lg"},we=i("label",{class:"font-bold"},"Product Stripe Id:",-1),ke={class:"text-red-500 ml-2 text-sm font-bold"},Se=i("label",{class:"font-bold"},"Product Title:",-1),Ue={class:"text-red-500 ml-2 text-sm font-bold"},Ce=i("label",{class:"font-bold"},"Description:",-1),Ve={class:"text-red-500 ml-2 text-sm font-bold"},Pe=i("label",{class:"font-bold"},"Full Price:",-1),ze={class:"text-red-500 ml-2 text-sm font-bold"},Ie=i("label",{class:"font-bold"},"Full Price Stripe ID:",-1),qe={class:"text-red-500 ml-2 text-sm font-bold"},De=i("label",{class:"font-bold"},"Pictures:",-1),Oe={class:"text-red-500 ml-2 text-sm font-bold"},Ee={key:0,"data-te-toggle":"modal","data-te-target":"#previewImages",class:"font-bold cursor-pointer text-blue-600"},Me=i("label",{class:"font-bold"},"Product Status:",-1),Te={class:"text-[14px] w-full border-gray-500 bg-white p-1.5 border rounded flex items-center space-x-4"},Ne={class:"flex items-center space-x-1"},Fe=["checked"],Ae=i("label",null,"Show",-1),Le={class:"flex items-center space-x-1"},$e=["checked"],je=i("label",null,"Hide",-1),Be=i("label",{class:"font-bold"},"SubCategory:",-1),Je={class:"text-red-500 ml-2 text-sm font-bold"},Re=i("option",{value:"0",disabled:""},"select option",-1),Ge=["value"],He=i("label",{class:"font-bold"},"Style:",-1),We={class:"text-red-500 ml-2 text-sm font-bold"},Xe=i("option",{value:"0",disabled:""},"select option",-1),Ke=["value"],Qe=i("label",{class:"font-bold"},"Tier Level:",-1),Ye={class:"text-red-500 ml-2 text-sm font-bold"},Ze=i("option",{value:"0",disabled:""},"select option",-1),et=["value"],tt=i("label",{class:"font-bold"},"Safety:",-1),it={class:"text-red-500 ml-2 text-sm font-bold"},lt=i("option",{value:"0",disabled:""},"select option",-1),ot=["value"],dt=i("label",{class:"font-bold"},"Material:",-1),ut={class:"text-red-500 ml-2 text-sm font-bold"},st=i("option",{value:"0",disabled:""},"select option",-1),rt=["value"],ct=i("label",{class:"font-bold"},"Gender:",-1),nt={class:"text-red-500 ml-2 text-sm font-bold"},at=i("option",{value:"0",disabled:""},"select option",-1),_t=["value"],ft={class:""},mt=i("label",{class:"font-bold"},"Available Sizes:",-1),bt={class:"flex items-center my-2"},vt=["onUpdate:modelValue","checked","id","value"],pt=["for"],gt={class:""},yt=i("label",{class:"font-bold"},"Available Subscriptions:",-1),ht={class:"flex items-center my-2"},xt=["onUpdate:modelValue","id","value"],wt=["for"],kt=["onUpdate:modelValue","disabled"],St=["onUpdate:modelValue","disabled"],Ut=["onUpdate:modelValue","disabled"],Ct={class:"flex justify-end p-4"},Vt=["disabled"],Pt=["src"],zt={key:1,class:"text-center font-bold"},Mt={__name:"AddProduct",props:{product_info:Object},setup(le){const t=le,{Toast:T,ConfirmToast:It}=ye(),o=q({id:"",full_price_strip_id:"",product_stripe_id:"",previous_img:[],style:0,gender:0,size:{},subscription:{check:{},price:{},stripe_id:{},stripe_weekly_id:{}},subCategory:0,tier:0,safety:0,material:0,product_name:"",description:"",price:"",status:"",images:[]}),oe=window.location.origin;q([]);const de=q([]),O=q(!1),u=q({image:"",full_price_strip_id:"",product_stripe_id:"",style:"",size:"",subCategory:"",tier:"",safety:"",material:"",product_name:"",description:"",price:""}),b=q({style:{},size:{},subscription:{},subCategory:{},tier:{},gender:{},safety:{},material:{}}),N=l=>{o.value.status=l||0},ue=l=>{_.forEach(l.target.files,function(d,f){o.value.images.push(d),de.value.push(URL.createObjectURL(d))})},se=()=>{u.value={image:"",product_stripe_id:"",full_price_strip_id:"",style:"",size:"",subCategory:"",tier:"",safety:"",material:"",product_name:"",description:"",price:""}},re=l=>{var d,f;return se(),l.style||(u.value.style="Style is required field"),l.subCategory||(u.value.subCategory="Sub Category is required field"),l.tier||(u.value.tier="Tier Level is required field"),l.safety||(u.value.safety="Safety is required field"),((d=l.images)==null?void 0:d.length)===0&&((f=l.previous_img)==null?void 0:f.length)===0&&(u.value.image="Images are required"),l.material||(u.value.material="Material is required field"),l.product_name||(u.value.product_name="Name is required field"),l.description||(u.value.description="Description is required field"),l.price||(u.value.price="Price is required field"),l.product_stripe_id||(u.value.product_stripe_id="Price Stripe Id is required field"),l.full_price_strip_id||(u.value.full_price_strip_id="Strip Price Id is required field"),!u.value.full_price_strip_id&&!u.value.product_stripe_id&&!u.value.style&&!u.value.subCategory&&!u.value.tier&&!u.value.safety&&!u.value.image&&!u.value.material&&!u.value.product_name&&!u.value.description&&!u.value.price},ce=l=>{if(re(l)){O.value=!0;const f=new FormData;for(let r in l)if(l.hasOwnProperty(r))if(r==="images"){let p=1;_.forEach(l[r],function(g,y){const h=y+1;f.append("image"+h,g),p=y}),f.append("length",JSON.stringify(p+1))}else f.append(r,JSON.stringify(l[r]));axios.post("/save-product",f,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>{var p,g;r.data.success&&(T.fire({icon:"success",title:"Product Information Saved!"}),ve.visit("/products/edit/"+((g=(p=r==null?void 0:r.data)==null?void 0:p.data)==null?void 0:g.product_slug)))}).finally(()=>O.value=!1).catch(r=>{r.response.data.message&&T.fire({icon:"error",title:r.response.data.message})})}else O.value=!1},ne=()=>{axios.get("/product-options").then(l=>{var d,f,r,p,g,y,h,k,S,U,C,V,P,z,e,m;l.data&&(b.value.style=(d=l==null?void 0:l.data)!=null&&d.data1?(f=l==null?void 0:l.data)==null?void 0:f.data1:{},b.value.size=(r=l==null?void 0:l.data)!=null&&r.data2?(p=l==null?void 0:l.data)==null?void 0:p.data2:{},b.value.material=(g=l==null?void 0:l.data)!=null&&g.data3?(y=l==null?void 0:l.data)==null?void 0:y.data3:{},b.value.subCategory=(h=l==null?void 0:l.data)!=null&&h.data4?(k=l==null?void 0:l.data)==null?void 0:k.data4:{},b.value.tier=(S=l==null?void 0:l.data)!=null&&S.data5?(U=l==null?void 0:l.data)==null?void 0:U.data5:{},b.value.safety=(C=l==null?void 0:l.data)!=null&&C.data6?(V=l==null?void 0:l.data)==null?void 0:V.data6:{},b.value.subscription=(P=l==null?void 0:l.data)!=null&&P.data7?(z=l==null?void 0:l.data)==null?void 0:z.data7:{},b.value.gender=(e=l==null?void 0:l.data)!=null&&e.data8?(m=l==null?void 0:l.data)==null?void 0:m.data8:{})})},ae=()=>{var l,d,f,r,p,g,y,h,k,S,U,C,V,P,z,e,m,F,A,L,$,j,B,J,R,G,H,W,X,K,Q,Y,Z;o.value.id=(l=t==null?void 0:t.product_info)==null?void 0:l.id,o.value.product_name=(d=t==null?void 0:t.product_info)!=null&&d.product_name?(f=t==null?void 0:t.product_info)==null?void 0:f.product_name:"",o.value.description=(r=t==null?void 0:t.product_info)!=null&&r.description?(p=t==null?void 0:t.product_info)==null?void 0:p.description:"",o.value.price=(g=t==null?void 0:t.product_info)!=null&&g.product_price?(y=t==null?void 0:t.product_info)==null?void 0:y.product_price:"",o.value.status=(h=t==null?void 0:t.product_info)!=null&&h.status?(k=t==null?void 0:t.product_info)==null?void 0:k.status:0,o.value.material=(S=t==null?void 0:t.product_info)!=null&&S.materials_id?(U=t==null?void 0:t.product_info)==null?void 0:U.materials_id:0,o.value.subCategory=(C=t==null?void 0:t.product_info)!=null&&C.sub_categories_id?(V=t==null?void 0:t.product_info)==null?void 0:V.sub_categories_id:0,o.value.safety=(P=t==null?void 0:t.product_info)!=null&&P.safety_resistances_id?(z=t==null?void 0:t.product_info)==null?void 0:z.safety_resistances_id:0,o.value.tier=(e=t==null?void 0:t.product_info)!=null&&e.tier_levels_id?(m=t==null?void 0:t.product_info)==null?void 0:m.tier_levels_id:0,o.value.style=(F=t==null?void 0:t.product_info)!=null&&F.styles_id?(A=t==null?void 0:t.product_info)==null?void 0:A.styles_id:0,o.value.gender=(L=t==null?void 0:t.product_info)!=null&&L.genders_id?($=t==null?void 0:t.product_info)==null?void 0:$.genders_id:0,o.value.product_stripe_id=(j=t==null?void 0:t.product_info)!=null&&j.product_stripe_id?(B=t==null?void 0:t.product_info)==null?void 0:B.product_stripe_id:"",o.value.full_price_strip_id=(J=t==null?void 0:t.product_info)!=null&&J.full_price_strip_id?(R=t==null?void 0:t.product_info)==null?void 0:R.full_price_strip_id:"",(G=t==null?void 0:t.product_info)!=null&&G.product_images&&(o.value.previous_img=(H=t==null?void 0:t.product_info)==null?void 0:H.product_images),(W=t==null?void 0:t.product_info)!=null&&W.product_sizes&&((X=t==null?void 0:t.product_info)==null?void 0:X.product_sizes.length)>0&&_.forEach((K=t==null?void 0:t.product_info)==null?void 0:K.product_sizes,function(s,_e){o.value.size[s==null?void 0:s.sizes_id]=(s==null?void 0:s.status)===1}),(Q=t==null?void 0:t.product_info)!=null&&Q.product_subscriptions&&((Y=t==null?void 0:t.product_info)==null?void 0:Y.product_subscriptions.length)>0&&_.forEach((Z=t==null?void 0:t.product_info)==null?void 0:Z.product_subscriptions,function(s,_e){o.value.subscription.check[s==null?void 0:s.subscription_types_id]=(s==null?void 0:s.status)===1,o.value.subscription.price[s==null?void 0:s.subscription_types_id]=s==null?void 0:s.price,o.value.subscription.stripe_id[s==null?void 0:s.subscription_types_id]=s==null?void 0:s.strip_price_id,o.value.subscription.stripe_weekly_id[s==null?void 0:s.subscription_types_id]=s==null?void 0:s.weekly_strip_id})};return fe(()=>{ne(),ae()}),(l,d)=>(n(),c(x,null,[M(ee(me),{title:"Users"}),M(pe,null,{default:te(()=>{var f,r,p,g,y,h,k,S,U,C,V,P,z;return[he,i("form",xe,[i("div",null,[we,i("span",ke,a((f=u.value)==null?void 0:f.product_stripe_id),1),v(i("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>o.value.product_stripe_id=e),type:"text",class:"w-full rounded",autocomplete:"off",placeholder:"Product Stripe ID"},null,512),[[I,o.value.product_stripe_id]])]),i("div",null,[Se,i("span",Ue,a((r=u.value)==null?void 0:r.product_name),1),v(i("input",{"onUpdate:modelValue":d[1]||(d[1]=e=>o.value.product_name=e),type:"text",class:"w-full rounded",autocomplete:"off",placeholder:"Name"},null,512),[[I,o.value.product_name]])]),i("div",null,[Ce,i("span",Ve,a((p=u.value)==null?void 0:p.description),1),v(i("textarea",{"onUpdate:modelValue":d[2]||(d[2]=e=>o.value.description=e),type:"text",class:"w-full rounded",rows:"5",autocomplete:"off",placeholder:"About Product"},null,512),[[I,o.value.description]])]),i("div",null,[Pe,i("span",ze,a((g=u.value)==null?void 0:g.price),1),v(i("input",{"onUpdate:modelValue":d[3]||(d[3]=e=>o.value.price=e),type:"number",class:"w-full rounded",autocomplete:"off",placeholder:"One Time Price"},null,512),[[I,o.value.price]])]),i("div",null,[Ie,i("span",qe,a((y=u.value)==null?void 0:y.full_price_strip_id),1),v(i("input",{"onUpdate:modelValue":d[4]||(d[4]=e=>o.value.full_price_strip_id=e),type:"text",class:"w-full rounded",autocomplete:"off",placeholder:"One time Strip Price ID"},null,512),[[I,o.value.full_price_strip_id]])]),i("div",null,[De,i("span",Oe,a((h=u.value)==null?void 0:h.image),1),i("input",{onChange:d[5]||(d[5]=e=>ue(e)),type:"file",multiple:"",class:"w-full border-gray-500 bg-white p-1 border rounded"},null,32),o.value.previous_img&&((k=o.value.previous_img)==null?void 0:k.length)>0?(n(),c("div",Ee,"Preview")):be("",!0)]),i("div",null,[Me,i("div",Te,[i("div",Ne,[i("input",{checked:o.value.status!==1,onChange:d[6]||(d[6]=e=>N(0)),type:"radio",id:"one",name:"status",class:""},null,40,Fe),Ae]),i("div",Le,[i("input",{checked:o.value.status===1,onChange:d[7]||(d[7]=e=>N(1)),type:"radio",id:"two",name:"status",class:""},null,40,$e),je])])]),i("div",null,[Be,i("span",Je,a((S=u.value)==null?void 0:S.subCategory),1),v(i("select",{"onUpdate:modelValue":d[8]||(d[8]=e=>o.value.subCategory=e),class:"w-full border-gray-500 bg-white p-[9px] border rounded"},[Re,(n(!0),c(x,null,w(b.value.subCategory,e=>(n(),c("option",{value:e==null?void 0:e.id},a(e==null?void 0:e.name),9,Ge))),256))],512),[[D,o.value.subCategory]])]),i("div",null,[He,i("span",We,a((U=u.value)==null?void 0:U.style),1),v(i("select",{"onUpdate:modelValue":d[9]||(d[9]=e=>o.value.style=e),class:"w-full border-gray-500 bg-white p-[9px] border rounded"},[Xe,(n(!0),c(x,null,w(b.value.style,e=>(n(),c("option",{value:e==null?void 0:e.id},a(e==null?void 0:e.name),9,Ke))),256))],512),[[D,o.value.style]])]),i("div",null,[Qe,i("span",Ye,a((C=u.value)==null?void 0:C.tier),1),v(i("select",{"onUpdate:modelValue":d[10]||(d[10]=e=>o.value.tier=e),class:"w-full border-gray-500 bg-white p-[9px] border rounded"},[Ze,(n(!0),c(x,null,w(b.value.tier,e=>(n(),c("option",{value:e==null?void 0:e.id},a(e==null?void 0:e.name),9,et))),256))],512),[[D,o.value.tier]])]),i("div",null,[tt,i("span",it,a((V=u.value)==null?void 0:V.safety),1),v(i("select",{"onUpdate:modelValue":d[11]||(d[11]=e=>o.value.safety=e),class:"w-full border-gray-500 bg-white p-[9px] border rounded"},[lt,(n(!0),c(x,null,w(b.value.safety,e=>(n(),c("option",{value:e==null?void 0:e.id},a(e==null?void 0:e.name),9,ot))),256))],512),[[D,o.value.safety]])]),i("div",null,[dt,i("span",ut,a((P=u.value)==null?void 0:P.material),1),v(i("select",{"onUpdate:modelValue":d[12]||(d[12]=e=>o.value.material=e),class:"w-full border-gray-500 bg-white p-[9px] border rounded"},[st,(n(!0),c(x,null,w(b.value.material,e=>(n(),c("option",{value:e==null?void 0:e.id},a(e==null?void 0:e.name),9,rt))),256))],512),[[D,o.value.material]])]),i("div",null,[ct,i("span",nt,a((z=u.value)==null?void 0:z.gender),1),v(i("select",{"onUpdate:modelValue":d[13]||(d[13]=e=>o.value.gender=e),class:"w-full border-gray-500 bg-white p-[9px] border rounded"},[at,(n(!0),c(x,null,w(b.value.gender,e=>(n(),c("option",{value:e==null?void 0:e.id},a(e==null?void 0:e.name),9,_t))),256))],512),[[D,o.value.gender]])]),i("div",ft,[mt,(n(!0),c(x,null,w(b.value.size,e=>(n(),c("div",bt,[v(i("input",{"onUpdate:modelValue":m=>o.value.size[e.id]=m,checked:o.value.size[e.id]===!0,type:"checkbox",id:"size"+(e==null?void 0:e.id)+"boots",class:"rounded mr-1",value:e==null?void 0:e.id},null,8,vt),[[ie,o.value.size[e.id]]]),i("label",{for:"size"+(e==null?void 0:e.id)+"boots"},a(e==null?void 0:e.name),9,pt)]))),256))]),i("div",gt,[yt,(n(!0),c(x,null,w(b.value.subscription,e=>(n(),c("div",ht,[v(i("input",{"onUpdate:modelValue":m=>o.value.subscription.check[e.id]=m,type:"checkbox",id:"sub"+(e==null?void 0:e.id)+"boots",class:"rounded mr-1",value:e==null?void 0:e.id},null,8,xt),[[ie,o.value.subscription.check[e.id]]]),i("label",{for:"sub"+(e==null?void 0:e.id)+"boots",class:"mr-4 w-40"},a(e==null?void 0:e.name),9,wt),v(i("input",{"onUpdate:modelValue":m=>o.value.subscription.price[e.id]=m,disabled:o.value.subscription.check[e.id]!==!0,class:E([{"opacity-50 bg-gray-500":o.value.subscription.check[e.id]!==!0},"ml-5 w-40 rounded h-10"]),type:"number",placeholder:"Subscription Price"},null,10,kt),[[I,o.value.subscription.price[e.id]]]),v(i("input",{"onUpdate:modelValue":m=>o.value.subscription.stripe_id[e.id]=m,disabled:o.value.subscription.check[e.id]!==!0,class:E([{"opacity-50 bg-gray-500":o.value.subscription.check[e.id]!==!0},"ml-5 w-40 rounded h-10"]),type:"text",placeholder:"Stripe Monthly Price Id"},null,10,St),[[I,o.value.subscription.stripe_id[e.id]]]),v(i("input",{"onUpdate:modelValue":m=>o.value.subscription.stripe_weekly_id[e.id]=m,disabled:o.value.subscription.check[e.id]!==!0,class:E([{"opacity-50 bg-gray-500":o.value.subscription.check[e.id]!==!0},"ml-5 w-40 rounded h-10"]),type:"text",placeholder:"Stripe Weekly Price Id"},null,10,Ut),[[I,o.value.subscription.stripe_weekly_id[e.id]]])]))),256))])]),i("div",Ct,[i("button",{onClick:d[14]||(d[14]=e=>ce(o.value)),class:E([{"opacity-50":O.value},"px-4 cursor-pointer py-1 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg"]),disabled:O.value},"Submit",10,Vt)]),M(ge,{ModalId:"previewImages"},{default:te(()=>{var e;return[o.value.previous_img&&((e=o.value.previous_img)==null?void 0:e.length)>0?(n(!0),c(x,{key:0},w(o.value.previous_img,m=>(n(),c("img",{alt:"image",src:ee(oe)+"/storage/images/products/"+m.name},null,8,Pt))),256)):(n(),c("div",zt,"Images not Available"))]}),_:1})]}),_:1})],64))}};export{Mt as default};

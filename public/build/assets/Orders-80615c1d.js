import{_ as M}from"./AuthenticatedLayout-a1990e0d.js";import{_ as T}from"./Pagination-bffd3ab1.js";import{r as p,g as W,c as a,a as _,u as z,w as C,F as w,o as r,X as A,b as t,d as S,t as s,f as x,O}from"./app-ec377eaf.js";import{c as V}from"./common-6a76473d.js";import{_ as B}from"./ModalDialog-c0ec0301.js";const j=t("div",{class:"text-[25px] my-2"},"Orders",-1),E={class:"flex flex-col overflow-x-auto"},L={class:"sm:-mx-6 lg:-mx-8"},U={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},X={class:"overflow-x-auto"},Z={class:"min-w-full text-left text-sm font-light"},q=t("thead",null,[t("tr",{class:"border-b whitespace-nowrap bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," #No "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Order Status "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Subscription Status "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Subscription Type "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Subscription Installment "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Product Name "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Product Size "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Customer name "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Phone "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Address 1 "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Address 2 "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," City "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," State "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Zipcode "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Country "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Actions ")])],-1),G={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},H={class:"text-gray-900 whitespace-no-wrap"},J={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},K={class:"text-gray-900 whitespace-nowrap"},Q={key:0,class:"text-green-600 font-extrabold"},R={key:1,class:"text-orange-600 font-extrabold"},Y={key:2,class:"text-yellow-600 font-extrabold"},u={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ee={class:"text-gray-900 whitespace-nowrap"},te={key:0},se={key:1},ae={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},re={class:"text-gray-900 whitespace-nowrap"},oe={key:0},ie={key:1},ne={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},le={class:"text-gray-900 whitespace-nowrap"},be={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},xe={class:"text-gray-900 whitespace-nowrap"},ge={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ye={class:"text-gray-900 whitespace-nowrap"},de={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ce={class:"text-gray-900 whitespace-nowrap"},_e={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},he={class:"text-gray-900 whitespace-nowrap"},pe={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},we={class:"text-gray-900 whitespace-nowrap"},me={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},fe={class:"text-gray-900 whitespace-nowrap"},ke={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ve={class:"text-gray-900 whitespace-nowrap"},Ce={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Se={class:"text-gray-900 whitespace-nowrap"},Oe={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},De={class:"text-gray-900 whitespace-nowrap"},Ie={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Fe={class:"text-gray-900 whitespace-nowrap"},Pe={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Ne={class:"flex items-center space-x-2 text-white mx-auto"},$e=["onClick"],Me={key:1,class:"flex space-x-2"},Te=["onClick"],We=["onClick"],ze={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},Ae={class:"mx-auto text-gray-900"},Ve={class:"min-w-full text-left text-sm font-light"},Be=t("thead",null,[t("tr",{class:"border-b whitespace-nowrap bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," #No "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Paid Amount "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," From "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," To "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Invoice ")])],-1),je={class:"text-gray-700"},Ee={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Le={class:"text-gray-900 whitespace-no-wrap"},Ue={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Xe={class:"text-gray-900 whitespace-nowrap"},Ze={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},qe={class:"text-gray-900 whitespace-nowrap"},Ge={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},He={class:"text-gray-900 whitespace-nowrap"},Je={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Ke=["href"],Qe={key:1,class:"text-center mx-auto"},Re=t("td",{colspan:"5",class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},[t("p",{class:"text-gray-900 whitespace-no-wrap"},"Installments data not available")],-1),Ye=[Re],ot={__name:"Orders",props:{orders:Object},setup(h){const m=h,{Toast:f,ConfirmToast:ue}=V(),g=p({});p([]),p(!1);const D=i=>i===0?"Monthly":i===1?"Weekly":"Fully Paid",I=i=>{let n=m.orders.data.filter(y=>y.id===i);g.value=n[0],$("#orderDetail").modal("show")},F=()=>{},P=i=>{console.log(i),axios.post("/product-status",{id:i}).then(n=>{n.data.success&&(f.fire({icon:"success",title:"Status Changed to Delivered!"}),O.visit("/admin-order"))})},N=i=>{console.log(i),axios.post("/product-status-process",{id:i}).then(n=>{n.data.success&&(f.fire({icon:"success",title:"Status Changed to On Its Way!"}),O.visit("/admin-order"))})};return W(()=>{console.log(m.orders)}),(i,n)=>(r(),a(w,null,[_(z(A),{title:"Users"}),_(M,null,{default:C(()=>{var y,k;return[j,t("div",E,[t("div",L,[t("div",U,[t("div",X,[t("table",Z,[q,t("tbody",null,[(r(!0),a(w,null,S((y=h.orders)==null?void 0:y.data,(e,d)=>{var l,b,o,c;return r(),a("tr",{key:e==null?void 0:e.id,class:"text-gray-700"},[t("td",G,[t("p",H,s(d+1),1)]),t("td",J,[t("p",K,[e!=null&&e.status&&(e==null?void 0:e.status)==="1"?(r(),a("span",Q,"Delivered")):e!=null&&e.status&&(e==null?void 0:e.status)==="2"?(r(),a("span",R,"Pending")):e!=null&&e.status&&(e==null?void 0:e.status)==="3"?(r(),a("span",Y,"On Its Way")):x("",!0)])]),t("td",u,[t("p",ee,[e!=null&&e.subscription_status?(r(),a("span",te,s(e==null?void 0:e.subscription_status),1)):(r(),a("span",se,"---"))])]),t("td",ae,[t("p",re,[(l=e==null?void 0:e.order_subscription)!=null&&l.name?(r(),a("span",oe,s((b=e==null?void 0:e.order_subscription)==null?void 0:b.name),1)):(r(),a("span",ie,"Full Payment"))])]),t("td",ne,[t("p",le,s(D(e==null?void 0:e.subscription_type)),1)]),t("td",be,[t("p",xe,s(e==null?void 0:e.order_product.product_name),1)]),t("td",ge,[t("p",ye,s((c=(o=e==null?void 0:e.order_sizes)==null?void 0:o.size_name)==null?void 0:c.name),1)]),t("td",de,[t("p",ce,s(e==null?void 0:e.name),1)]),t("td",_e,[t("p",he,s(e==null?void 0:e.phone),1)]),t("td",pe,[t("p",we,s(e==null?void 0:e.address_1),1)]),t("td",me,[t("p",fe,s(e==null?void 0:e.address_2),1)]),t("td",ke,[t("p",ve,s(e==null?void 0:e.city),1)]),t("td",Ce,[t("p",Se,s(e==null?void 0:e.state),1)]),t("td",Oe,[t("p",De,s(e==null?void 0:e.zipcode),1)]),t("td",Ie,[t("p",Fe,s(e==null?void 0:e.country),1)]),t("td",Pe,[t("div",Ne,[(e==null?void 0:e.subscription_type)!==2?(r(),a("div",{key:0,onClick:v=>I(e==null?void 0:e.id),class:"py-1 rounded px-3 whitespace-nowrap bg-green-500 hover:bg-green-600 cursor-pointer"},"Further Detail",8,$e)):x("",!0),(e==null?void 0:e.status)!=="1"?(r(),a("span",Me,[(e==null?void 0:e.status)==="2"?(r(),a("div",{key:0,onClick:v=>N(e==null?void 0:e.id),class:"py-1 rounded px-3 whitespace-nowrap bg-yellow-500 hover:bg-yellow-600 cursor-pointer"}," On Its Way ",8,Te)):x("",!0),t("div",{onClick:v=>P(e==null?void 0:e.id),class:"py-1 rounded px-3 whitespace-nowrap bg-green-500 hover:bg-green-600 cursor-pointer"}," Delivered ",8,We)])):x("",!0)])])])}),128))])]),t("div",ze,[_(T,{links:(k=h.orders)==null?void 0:k.links},null,8,["links"])])])])])]),_(B,{maxWidth:"!w-[700px] !max-w-[700px]",ModalId:"orderDetail",onCloseModal:F},{default:C(()=>{var e,d,l,b;return[t("div",Ae,[t("div",null,[t("table",Ve,[Be,t("tbody",null,[(e=g.value)!=null&&e.order_installments&&((l=(d=g.value)==null?void 0:d.order_installments)==null?void 0:l.length)>0?(r(!0),a(w,{key:0},S((b=g.value)==null?void 0:b.order_installments,(o,c)=>(r(),a("tr",je,[t("td",Ee,[t("p",Le,s(c+1),1)]),t("td",Ue,[t("p",Xe,s(o.paid_amount),1)]),t("td",Ze,[t("p",qe,s(o.start_at),1)]),t("td",Ge,[t("p",He,s(o.end_at),1)]),t("td",Je,[o!=null&&o.invoice_url?(r(),a("a",{key:0,href:o==null?void 0:o.invoice_url,target:"_blank",class:"text-blue-600 hover:text-blue-800 font-extrabold whitespace-nowrap"},"INVOICE",8,Ke)):x("",!0)])]))),256)):(r(),a("tr",Qe,Ye))])])])])]}),_:1})]}),_:1})],64))}};export{ot as default};
